module.exports=[70604,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(56549),e=a.i(45431),f=a.i(3130),g=a.i(40695),h=a.i(5522),i=a.i(17171),j=a.i(54161),k=a.i(88237),l=a.i(76504),m=a.i(65733),n=a.i(87682),o=a.i(87532),p=a.i(15618),q=a.i(17755),r=a.i(24569),s=a.i(81560),t=a.i(70106);let u=(0,t.default)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),v=(0,t.default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var w=a.i(60246);let x=(0,t.default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),y=(0,t.default)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var z=a.i(96221),A=a.i(14548),B=a.i(77156),C=a.i(41379),D=a.i(95116),E=a.i(21937),F=a.i(50944);function G(){let{user:a}=(0,E.useAuth)(),t=(0,F.useRouter)(),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)({username:"",full_name:"",password:"",role:"staff"});(0,c.useEffect)(()=>{a&&"admin"!==a.role&&t.push("/dashboard")},[a,t]);let Q=D.mockUsers.filter(a=>a.username.toLowerCase().includes(G.toLowerCase())||a.full_name.toLowerCase().includes(G.toLowerCase())),R=D.mockUsers.filter(a=>"admin"===a.role).length,S=D.mockUsers.filter(a=>"staff"===a.role).length;D.mockUsers.filter(a=>a.is_active).length;let T=async a=>{a.preventDefault(),L(!0),await new Promise(a=>setTimeout(a,1e3)),console.log("New user:",O),L(!1),P({username:"",full_name:"",password:"",role:"staff"}),J(!1)};return a?.role!=="admin"?null:(0,b.jsxs)(d.ProtectedLayout,{children:[(0,b.jsx)(e.Header,{title:"User Management",subtitle:"Manage system users and roles"}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center",children:(0,b.jsx)(w.Users,{className:"h-6 w-6 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:D.mockUsers.length}),(0,b.jsx)("p",{className:"text-sm text-muted",children:"Total Users"})]})]})}),(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-warning/10 rounded-xl flex items-center justify-center",children:(0,b.jsx)(y,{className:"h-6 w-6 text-warning"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:R}),(0,b.jsx)("p",{className:"text-sm text-muted",children:"Administrators"})]})]})}),(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-success/10 rounded-xl flex items-center justify-center",children:(0,b.jsx)(x,{className:"h-6 w-6 text-success"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:S}),(0,b.jsx)("p",{className:"text-sm text-muted",children:"Staff Members"})]})]})})]}),(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)(o.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted"}),(0,b.jsx)(h.Input,{type:"search",placeholder:"Search users...",value:G,onChange:a=>H(a.target.value),className:"pl-10"})]}),(0,b.jsxs)(g.Button,{className:"bg-primary hover:bg-primary-dark text-white gap-2",onClick:()=>J(!0),children:[(0,b.jsx)(p.Plus,{className:"h-4 w-4"}),"Add User"]})]})})}),(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-0",children:(0,b.jsxs)(k.Table,{children:[(0,b.jsx)(k.TableHeader,{children:(0,b.jsxs)(k.TableRow,{children:[(0,b.jsx)(k.TableHead,{children:"User"}),(0,b.jsx)(k.TableHead,{children:"Username"}),(0,b.jsx)(k.TableHead,{children:"Role"}),(0,b.jsx)(k.TableHead,{children:"Status"}),(0,b.jsx)(k.TableHead,{children:"Created"}),(0,b.jsx)(k.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsxs)(k.TableBody,{children:[Q.map(c=>(0,b.jsxs)(k.TableRow,{children:[(0,b.jsx)(k.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${"admin"===c.role?"bg-warning/10":"bg-primary/10"}`,children:(0,b.jsx)("span",{className:`font-semibold ${"admin"===c.role?"text-warning":"text-primary"}`,children:c.full_name.charAt(0)})}),(0,b.jsx)("p",{className:"font-medium text-foreground",children:c.full_name})]})}),(0,b.jsxs)(k.TableCell,{className:"text-muted",children:["@",c.username]}),(0,b.jsx)(k.TableCell,{children:(0,b.jsx)(j.Badge,{className:"admin"===c.role?"bg-warning text-white":"bg-primary text-white",children:"admin"===c.role?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y,{className:"h-3 w-3 mr-1"})," Admin"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x,{className:"h-3 w-3 mr-1"})," Staff"]})})}),(0,b.jsx)(k.TableCell,{children:(0,b.jsx)(j.Badge,{className:c.is_active?"bg-success text-white":"bg-muted",children:c.is_active?"Active":"Inactive"})}),(0,b.jsx)(k.TableCell,{className:"text-muted",children:new Date(c.created_at).toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric"})}),(0,b.jsx)(k.TableCell,{className:"text-right",children:(0,b.jsxs)(l.DropdownMenu,{children:[(0,b.jsx)(l.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(q.MoreHorizontal,{className:"h-4 w-4"})})}),(0,b.jsxs)(l.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(l.DropdownMenuItem,{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Edit,{className:"h-4 w-4"})," Edit User"]}),(0,b.jsx)(l.DropdownMenuItem,{className:"flex items-center gap-2",children:c.is_active?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u,{className:"h-4 w-4"})," Deactivate"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v,{className:"h-4 w-4"})," Activate"]})}),(0,b.jsxs)(l.DropdownMenuItem,{className:"flex items-center gap-2 text-danger",disabled:c.user_id===a?.user_id,children:[(0,b.jsx)(s.Trash2,{className:"h-4 w-4"})," Delete"]})]})]})})]},c.user_id)),0===Q.length&&(0,b.jsx)(k.TableRow,{children:(0,b.jsx)(k.TableCell,{colSpan:6,className:"h-32 text-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center text-muted",children:[(0,b.jsx)(w.Users,{className:"h-12 w-12 mb-2"}),(0,b.jsx)("p",{className:"font-medium",children:"No users found"})]})})})]})]})})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-warning/10 rounded-xl flex items-center justify-center",children:(0,b.jsx)(y,{className:"h-5 w-5 text-warning"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Administrator"}),(0,b.jsx)("p",{className:"text-xs text-muted",children:"Full system access"})]})]}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-muted",children:[(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-success",children:"✓"})," Access all modules"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-success",children:"✓"})," Manage users and roles"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-success",children:"✓"})," View all reports"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-success",children:"✓"})," Modify system settings"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-success",children:"✓"})," Archive/delete records"]})]})]})}),(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:(0,b.jsx)(x,{className:"h-5 w-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Staff"}),(0,b.jsx)("p",{className:"text-xs text-muted",children:"Limited access"})]})]}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-muted",children:[(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-success",children:"✓"})," Access POS module"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-success",children:"✓"})," View inventory"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-success",children:"✓"})," Record deliveries"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-success",children:"✓"})," Manage customers"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-danger",children:"✗"})," Cannot manage users"]})]})]})})]})]}),(0,b.jsx)(m.Dialog,{open:I,onOpenChange:J,children:(0,b.jsxs)(m.DialogContent,{className:"sm:max-w-md",children:[(0,b.jsx)(m.DialogHeader,{children:(0,b.jsx)(m.DialogTitle,{children:"Add New User"})}),(0,b.jsxs)("form",{onSubmit:T,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"full_name",children:"Full Name *"}),(0,b.jsx)(h.Input,{id:"full_name",placeholder:"Enter full name",value:O.full_name,onChange:a=>P(b=>({...b,full_name:a.target.value})),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"username",children:"Username *"}),(0,b.jsx)(h.Input,{id:"username",placeholder:"Enter username",value:O.username,onChange:a=>P(b=>({...b,username:a.target.value})),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"password",children:"Password *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.Input,{id:"password",type:M?"text":"password",placeholder:"Enter password",value:O.password,onChange:a=>P(b=>({...b,password:a.target.value})),required:!0,className:"pr-10"}),(0,b.jsx)("button",{type:"button",onClick:()=>N(!M),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted hover:text-foreground",children:M?(0,b.jsx)(C.EyeOff,{className:"h-4 w-4"}):(0,b.jsx)(B.Eye,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{children:"Role *"}),(0,b.jsxs)(n.Select,{value:O.role,onValueChange:a=>P(b=>({...b,role:a})),children:[(0,b.jsx)(n.SelectTrigger,{children:(0,b.jsx)(n.SelectValue,{})}),(0,b.jsxs)(n.SelectContent,{children:[(0,b.jsx)(n.SelectItem,{value:"staff",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(x,{className:"h-4 w-4"})," Staff"]})}),(0,b.jsx)(n.SelectItem,{value:"admin",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(y,{className:"h-4 w-4"})," Administrator"]})})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>J(!1),children:"Cancel"}),(0,b.jsx)(g.Button,{type:"submit",className:"bg-primary hover:bg-primary-dark text-white gap-2",disabled:K,children:K?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(z.Loader2,{className:"h-4 w-4 animate-spin"})," Creating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A.Save,{className:"h-4 w-4"})," Create User"]})})]})]})]})})]})}a.s(["default",()=>G],70604)}];

//# sourceMappingURL=app_users_page_tsx_bc4a4b84._.js.map