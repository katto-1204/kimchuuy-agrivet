module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},210,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},30553,a=>{"use strict";var b=a.i(72131),c=a.i(35112),d=a.i(11011),e=a.i(87924),f=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((a,c)=>{let f=b.forwardRef((a,b)=>{let{asChild:f,...g}=a,h=f?d.Slot:c;return(0,e.jsx)(h,{...g,ref:b})});return f.displayName=`Primitive.${c}`,{...a,[c]:f}},{});function g(a,b){a&&c.flushSync(()=>a.dispatchEvent(b))}a.s(["Primitive",()=>f,"dispatchDiscreteCustomEvent",()=>g])},54161,a=>{"use strict";var b=a.i(87924),c=a.i(11011),d=a.i(187),e=a.i(97895);let f=(0,d.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},71931,a=>{"use strict";let b=(0,a.i(70106).default)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);a.s(["Printer",()=>b],71931)},23382,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(56549),e=a.i(3130),f=a.i(40695),g=a.i(54161),h=a.i(30553),i="horizontal",j=["horizontal","vertical"],k=c.forwardRef((a,c)=>{var d;let{decorative:e,orientation:f=i,...g}=a,k=(d=f,j.includes(d))?f:i;return(0,b.jsx)(h.Primitive.div,{"data-orientation":k,...e?{role:"none"}:{"aria-orientation":"vertical"===k?k:void 0,role:"separator"},...g,ref:c})});k.displayName="Separator";var l=a.i(97895);function m({className:a,orientation:c="horizontal",decorative:d=!0,...e}){return(0,b.jsx)(k,{"data-slot":"separator",decorative:d,orientation:c,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...e})}var n=a.i(210),o=a.i(71931),p=a.i(38246);function q({params:a}){let{id:h}=(0,c.use)(a),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{(async()=>{try{l(!0);let a=await fetch(`/api/sales/${h}`);if(!a.ok)throw Error("Failed to fetch sale");let b=await a.json();j(b.sale)}catch(a){console.error("Error fetching sale:",a)}finally{l(!1)}})()},[h]),k)?(0,b.jsx)(d.ProtectedLayout,{children:(0,b.jsx)("div",{className:"text-center py-12 text-muted",children:"Loading..."})}):i?(0,b.jsx)(d.ProtectedLayout,{children:(0,b.jsxs)("div",{className:"space-y-6 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(f.Button,{variant:"outline",asChild:!0,children:(0,b.jsx)(p.default,{href:"/sales",children:(0,b.jsx)(n.ArrowLeft,{className:"h-4 w-4"})})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-foreground",children:["Sale #",i.sale_id]}),(0,b.jsx)("p",{className:"text-muted mt-1",children:new Date(i.sale_date).toLocaleString("en-PH")})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"col-span-2 space-y-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Transaction Details"})}),(0,b.jsx)(e.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted",children:"Customer"}),(0,b.jsx)("p",{className:"font-semibold text-foreground",children:i.customer_name||"Walk-in Customer"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted",children:"Cashier"}),(0,b.jsx)("p",{className:"font-semibold text-foreground",children:i.user_name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted",children:"Payment Method"}),(0,b.jsx)(g.Badge,{className:{Cash:"bg-green-100 text-green-800",GCash:"bg-blue-100 text-blue-800",Maya:"bg-purple-100 text-purple-800","Bank Transfer":"bg-yellow-100 text-yellow-800"}[i.payment_method]||"bg-gray-100 text-gray-800",children:i.payment_method})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted",children:"Reference Number"}),(0,b.jsx)("p",{className:"font-mono text-foreground",children:i.reference_number||"—"})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Items Sold"})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-border",children:[(0,b.jsx)("th",{className:"text-left py-2 px-3 text-muted",children:"Product"}),(0,b.jsx)("th",{className:"text-center py-2 px-3 text-muted",children:"Qty"}),(0,b.jsx)("th",{className:"text-right py-2 px-3 text-muted",children:"Unit Price"}),(0,b.jsx)("th",{className:"text-right py-2 px-3 text-muted",children:"Subtotal"})]})}),(0,b.jsx)("tbody",{children:i.items?.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-border hover:bg-muted/50",children:[(0,b.jsx)("td",{className:"py-3 px-3",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.product_name}),(0,b.jsx)("p",{className:"text-xs text-muted",children:a.sku})]})}),(0,b.jsx)("td",{className:"text-center py-3 px-3 text-foreground",children:a.quantity}),(0,b.jsxs)("td",{className:"text-right py-3 px-3 text-foreground",children:["₱",a.unit_price.toLocaleString("en-PH",{minimumFractionDigits:2})]}),(0,b.jsxs)("td",{className:"text-right py-3 px-3 font-semibold text-foreground",children:["₱",a.subtotal.toLocaleString("en-PH",{minimumFractionDigits:2})]})]},c))})]})})})]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)(e.Card,{className:"sticky top-6",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Summary"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted",children:"Subtotal"}),(0,b.jsxs)("span",{className:"text-foreground",children:["₱",i.subtotal.toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),i.discount>0&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted",children:"Discount"}),(0,b.jsxs)("span",{className:"text-danger",children:["-₱",i.discount.toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted",children:"VAT (12%)"}),(0,b.jsxs)("span",{className:"text-foreground",children:["₱",i.vat.toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),(0,b.jsx)(m,{}),(0,b.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{className:"text-primary",children:["₱",i.total.toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),(0,b.jsx)(m,{}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted",children:"Amount Paid"}),(0,b.jsxs)("span",{className:"text-foreground",children:["₱",i.amount_paid.toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted",children:"Change"}),(0,b.jsxs)("span",{className:"text-success font-semibold",children:["₱",i.change_amount.toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),(0,b.jsx)(m,{}),(0,b.jsxs)(f.Button,{variant:"outline",className:"w-full",onClick:()=>window.print(),children:[(0,b.jsx)(o.Printer,{className:"mr-2 h-4 w-4"}),"Print Receipt"]})]})]})})]})]})}):(0,b.jsx)(d.ProtectedLayout,{children:(0,b.jsx)("div",{className:"text-center py-12 text-muted",children:"Sale not found"})})}a.s(["default",()=>q],23382)}];

//# sourceMappingURL=_e84068d6._.js.map